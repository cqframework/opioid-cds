{
  "hookInstance": "a1836eaf-5987-4144-ac00-ca3b63c9a98e",
  "fhirServer": "http://localhost:8080/cqf-ruler-r4/fhir",
  "hook": "order-select",
  "applyCql": true,
  "context": {
    "userId": "Practitioner/example",
    "patientId": "Patient/example-rec-03-false-due-to-discussion-within-90-days",
    "selections": [
      "MedicationRequest/e9e50568-5737-427d-8b1b-7a48f3ea9986"]
  },
  "prefetch": {
    "item1": {
      "response": {
        "status": "200 OK"
      },
      "resource": {
        "resourceType": "Patient",
        "id": "example-rec-03-false-due-to-discussion-within-90-days",
        "extension": [
          {
            "url": "http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/dataDateRoller",
            "extension": [
              {
                "url": "dateLastUpdated",
                "valueDateTime": "2022-04-08"
              },
              {
                "url": "frequency",
                "valueDuration": {
                  "value": 30.0,
                  "unit": "days",
                  "system": "http://unitsofmeasure.org",
                  "code": "d"
                }
              }
            ]
          }
        ],
        "_birthDate": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
              "valueExpression": {
                "language": "text/cql",
                "expression": "Today() - 20 years"
              }
            }
          ]
        }
      }
    },
    "item2": {
      "response": {
        "status": "200 OK"
      },
      "resource": {
        "resourceType": "Procedure",
        "id": "ab45f30e-b150-4265-a288-02da1b74ca19",
        "extension": [
          {
            "url": "http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/dataDateRoller",
            "extension": [
              {
                "url": "dateLastUpdated",
                "valueDateTime": "2022-04-08"
              },
              {
                "url": "frequency",
                "valueDuration": {
                  "value": 30.0,
                  "unit": "days",
                  "system": "http://unitsofmeasure.org",
                  "code": "d"
                }
              }
            ]
          }
        ],
        "status": "completed",
        "code": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "313071005",
              "display": "Counseling for substance abuse (procedure)"
            }
          ]
        },
        "subject": {
          "reference": "Patient/example-rec-03-false-due-to-discussion-within-90-days"
        },
        "_performedPeriod": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
              "valueExpression": {
                "language": "text/cql",
                "expression": "FHIR.Period { start: FHIR.dateTime { value: Today() - 89 days }, end: FHIR.dateTime { value: Today() - 88 days } }"
              }
            }
          ]
        }
      }
    }
  }
}
